\clearpage
\section{Distance-to-Go Estimates for Optimal Planning}

\label{sec:distance-to-go}

We next compare our depth diversification to the distance-to-go
estimates in the plateau.  Distance-to-go estimates are the type of
heuristics which treat actions as if they have the unit cost. Even under
the presence of zero-cost actions, those estimates can predict the
number of operations required to reach a goal.
While several papers advocates the benefit of this technique, many of
these claims took place in the context of satisficing planning.

\shortciteauthor{benton2010g} proposed an inadmissible technique for temporal
planning where short actions are hidden behind long actions and do not
increase makespan \cite{benton2010g}. Such actions cause so-called
``g-value plateau'', a similar situation caused by 0-cost actions in
sequential planning.  They implemented an inadmissible heuristic
function combined with distance-to-go estimates on top of
Temporal Fast Downward system.  As stated, their method is not
applicable to the optimising search.
 
% ,wilt2011cost
Similarly, in sequencial satisficing planning,
\shortciteauthor{cushing2010cost} showed that
(non-admissibly) treating all actions as unit cost sometimes finds an
optimal plan quickly \cite{cushing2010cost}.
Although it could find an optimal plan by chance, this does not
guarantee the optimality of the solution.
 
Also, a \sota satisficing planner FD/LAMA2011 incorpolates
distance-to-go estimates in its iterated search framework. The first
iteration of LAMA uses distance-to-go estimates combined with various
satisficing search enhancements.

Still, there is a number of possibilities to adopt the idea of distance-to-go in optimal search.
One key idea is that, as long as the first sorting criteria $f$ uses an ordinary
admissible heuristics, any sorting strategy returns an optimal solution.
Therefore, it is possible to use the
distance-to-go estimates in the sorting criteria of optimal search as
long as it is not the first criteria.
 % 
Let $\hat{h}$ be a distance-to-go variation of an original heuristic function $h$.
%% redundunt
% Upon computing the estimates, $\hat{h}$ treats all
% actions to have unit costs, while original heuristic function $h$ uses the
% standard action cost.
% 
A multi-heuristic strategy such as $[g+h,h,\hat{h}]$ or $[g+h,\hat{h}]$
returns an optimal solution because the first criteria $f=g+h$ is
obtained by a normal cost function.
Moreover, it is even possible to use any inadmissible heuristic function to break
ties. For example, one can use inadmissible FF heuristics to break ties
among $f$ which uses admissible \lmcut heuristics: $[g+h^{\lmcut},\hat{h}^{\ff}]$.

An obvious flaw in such a strategy is the cost of computing additional
heuristic estimates. Using different heuristics (e.g. $\ffo$) obviously introduces such an
overhead. Using distance-to-go estimates $\hat{h}$ along with
original heuristics $h$ could be optimized so that they share part of
the computation, but still should incur some overhead.

\subsection{Evaluating Distance-to-go Estimates}

We tested various sorting strategies on IPC domains and zerocost domains.
% on zerocost domains  where tiebreaking strategies have the large impact.
The configurations are listed in \reftbl{list:distance-configs}. 
In all configurations, the first sorting criterion is the $f=g+h$ value
where $h$ is an admissible heuristics using the normal cost calculation, either \lmcut or \mands.
As the second or later sorting criteria,
we tested $\hat{h}$ of original $h$, as well as a distance-to-go variation of FF
heuristic ($\hat{h}^{\ff}$).
% , and a distance-to-go variation of
% GoalCount heuristic ($\hat{h}^{\text{GoalCount}}$) which is added to
% represent an uninformative but fast inadmissible heuristic function with
% least additional overhead.
We also added configurations with the depth metric within
$\plateau{\hat{h}}$ or $\plateau{\hat{h}^{\text{\ff}}}$.

\begin{table}[htbp]
 \centering
 \[
 \begin{array}{lcll}
  (1)\, [h+g, & h,                           &L] \\\relax
  (2)\, [h+g, & h,     \quad   \hat{h},      &L] \\\relax
  (3)\, [h+g, & \hat{h},                     &L] \\\relax
  (4)\, [h+g, & \hat{h}^{\ff},               &L] \\\relax
  % not include it unless the reviewer complained. 
  % (5)\, [h+g, & \hat{h}^{\text{GoalCount}},  &L] \\\relax
  (6)\, [h+g, & \hat{h}^{\text{FF}}, \depth, &L] \\\relax
 \end{array}  
 \]
 \caption{Configurations which uses the distance-to-go estimates. $h$ is
 one of $\braces{\lmcut, \mands}$, and $L$ is one of last-resort
 tiebreaking strategy $\braces{\fifo,\lifo,\ro}$. }
 \label{list:distance-configs}
\end{table}

% $[h^{\lmcut}+g,\hat{h}^{\mbox{LMcount}},\fifo]$,

The summary results are shown in \reftbl{tbl:dtg-summary}. For
comparison, we also show the results in the previous sections.
Detailed per-domain results are shown in
\reftbl{tbl:dtg-lmcut-zero}-\reftbl{tbl:dtg-mands-ipc}.

In Zerocost domains, we see that $\hat{h}$-tiebreaking outperforms
$h$-tiebreaking in both \lmcut and \mands. Also, combining $h$ and
$\hat{h}$ can further improve the performance of \lmcut, while the
results are comparable when the main heuristics function $h$ is \mands.
Yet more surprisingly, using $\ffo$ results in an order of magnitude
larger coverage in both \lmcut and \mands. Thus, when the depth metric
is not used, the best configuration is those which uses $\ffo$.
This also strengthens our claim that $h$-based tiebreaking is not
necessarily the ``rule of the thumb'' in these domains
(This was already discussed in \refsec{sec:noh}).
Finally, depth metric further improves the performance of this best
non-depth configuration using $\ffo$.
It happened in both cases of $h=h^\lmcut$ and $h=h^\mands$. 

In standard IPC benchmark instances, the cost of additional computation of
$\hat{h}$ or $\ffo$ tends to harm the overall performance.
Therefore, the best result using \lmcut was
$[f,h,\depth,\lifo]$ which uses depth and does not impose the cost of
additional heuristics, and the best result using \mands
was $[f,h,\lifo]$ which impose the least overhead on the fast expansion offered by
\mands heursitics.
However, 
zerocost domains in this standard benchmark set (Openstacks and
Cybersec) has each shown a significant speedup achieved by these distance-to-go estiamtes
 (\reftbl{tbl:dtg-lmcut-ipc} and \reftbl{tbl:dtg-mands-ipc}).

\begin{table}[htbp]
 \centering
 \input{tables/8-1-summary}
 \caption{
 Summary Results: Coverage comparison (the number
 of instances solved in 5min, 2GB) between several sorting strategies.
 }
 \label{tbl:dtg-summary}
\end{table}

\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-zero-lmcut}
 \caption{
 Coverage comparison \textbf{with \lmcut, without $h$-tiebreaking, on 620 zerocost instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-lmcut-zero}
 }
\end{table}
\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-zero-mands}
 \caption{
 Coverage comparison \textbf{with \mands, without $h$-tiebreaking, on 620 zerocost instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-mands-zero}
 }
\end{table}

\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-ipc-lmcut}
 \caption{
 Coverage comparison \textbf{with \lmcut, without $h$-tiebreaking, on 1104 standard IPC benchmark instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-lmcut-ipc}
 }
\end{table}
\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-ipc-mands}
 \caption{
 Coverage comparison \textbf{with \mands, without $h$-tiebreaking, on 1104 standard IPC benchmark instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-mands-ipc}
 }
\end{table}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%55

\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-zero-lmcut-ff}
 \caption{
 Coverage comparison \textbf{with \lmcut, using $\ffo$ as part of tiebreaking, on 620 zerocost instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-lmcut-zero}
 }
\end{table}
\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-zero-mands-ff}
 \caption{
 Coverage comparison \textbf{with \mands, using $\ffo$ as part of tiebreaking, on 620 zerocost instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-mands-zero}
 }
\end{table}

\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-ipc-lmcut-ff}
 \caption{
 Coverage comparison \textbf{with \lmcut, using $\ffo$ as part of tiebreaking, on 1104 standard IPC benchmark instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-lmcut-ipc}
 }
\end{table}
\begin{table}[htbp]
 {
 \centering
 \setlength{\tabcolsep}{0.1em}
 \input{tables/8-ipc-mands-ff}
 \caption{
 Coverage comparison \textbf{with \mands, using $\ffo$ as part of tiebreaking, on 1104 standard IPC benchmark instances}. We highlight the
 best results when the difference between the maximum and the mininum coverage exceeds 2.
 }
 \label{tbl:dtg-mands-ipc}
 }
\end{table}




%% moved to Table 2



